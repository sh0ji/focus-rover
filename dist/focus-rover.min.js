var Rover=function(){"use strict";var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),n=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},i={vertical:!0,horizontal:!0,wrap:!0,initialFocusIndex:0,resetOnExit:!1},r=Symbol("backward"),s=Symbol("forward");return function(){function a(e,n){t(this,a),this.elements=e,this.default=i,this.config=Object.assign({},i,n),this.elements.length&&this.init(!0)}return e(a,[{key:"init",value:function(t){var e=this;return this.elements.forEach(function(n,i){e.initTabindex(n,i),t&&e.setListeners(n,i)}),this}},{key:"initTabindex",value:function(t,e){return e===this.config.initialFocusIndex?t.getAttribute("href")?t.removeAttribute("tabindex"):t.setAttribute("tabindex",0):t.setAttribute("tabindex",-1),this}},{key:"setListeners",value:function(t,e){var i=this;return t.addEventListener("keydown",function(n){if(i.validKeys.includes(n.code)){n.preventDefault();var r=i.nextIndex(e,i.forward.includes(n.code));a.moveFocus(t,i.elements[r])}}),t.addEventListener("blur",function(t){var e=t.relatedTarget;i.config.resetOnExit&&![].concat(n(i.elements)).includes(e)&&i.init(!1)}),this}},{key:"nextIndex",value:function(t,e){return e?t===this.lastIndex?this.config.wrap?0:t:t+1:0===t?this.config.wrap?this.lastIndex:t:t-1}},{key:"backward",get:function(){return this[r]||(this[r]=[],this.config.vertical&&this[r].push("ArrowUp"),this.config.horizontal&&this[r].push("ArrowLeft")),this[r]}},{key:"forward",get:function(){return this[s]||(this[s]=[],this.config.vertical&&this[s].push("ArrowDown"),this.config.horizontal&&this[s].push("ArrowRight")),this[s]}},{key:"lastIndex",get:function(){return this.elements.length-1}},{key:"validKeys",get:function(){return this.backward.concat(this.forward)||[]}}],[{key:"moveFocus",value:function(t,e){return t.setAttribute("tabindex",-1),e.getAttribute("href")?e.removeAttribute("tabindex"):e.setAttribute("tabindex",0),e.focus(),this}}]),a}()}();
